//CJLDialogBox by Cres Jie Labasano under MIT License
(function(e,t){var n=function(t){var n=function(){};var r={contentCss:{width:350,height:250,padding:20},containerCss:{"z-index":9999999,position:"fixed"},onShow:n,onClose:n,afterShow:n,afterClose:n,overlay:false,overlayOnClickClose:true,transitionIn:{style:"fadeIn"},transitionOut:{style:"fadeOut"}};var i={$container:e("<div class='cjl-db-container' id='cjl_db_container_"+e.cjlDialog_count+"'></div>"),$header:e("<div class='cjl-db-header'></div>"),$closeBtn:e('<button class="cjl-db-close">&#10006;</button>'),$contentWrapper:e('<div class="cjl-db-content-wrapper"></div>'),$content:e('<div class="cjl-db-content"></div>'),$contentType:e('<div class="type"></div>'),$footer:e('<div class="cjl-db-footer"></div>'),$footerWrapper:e('<div class="cjl-db-footer-wrapper"></div>'),$overlay:e('<div class="cjl-db-overlay"></div>')};var s=function(){i.$header.append("<h3>"+t.title+"</h3>");i.$header.append(i.$closeBtn);if(t.type){i.$contentWrapper.append(i.$contentType.addClass(t.type).css("width",60))}i.$content.append(t.content).css(r.contentCss);i.$contentWrapper.append(i.$content);if(t.buttons){for(var n in t.buttons){var s=t.buttons[n];$button=e("<button></button>");for(var o in s)$button[o](s[o]);i.$footerWrapper.append($button)}i.$footer.append(i.$footerWrapper);i.$container.append(i.$footer)}var u=(t.type?i.$contentType.outerWidth():0)+i.$content.outerWidth();i.$container.append([i.$header,i.$contentWrapper,i.$footer]).css("width",u);i.$header.css("width",u);i.$contentWrapper.css("width",u);i.$footer.css("width",u)};var o=function(){if(typeof t.position=="object")i.$container.css(t.position);else if(typeof t.position=="function")t.position(i.$container);else i.$container.css(e.centerLocation(i.$container))};var u=function(){i.$container.css(r.containerCss);r.onShow(i.$container);if(typeof r.transitionIn=="function")r.transitionIn(i.$container,r.afterShow);else if(typeof r.transitionIn=="object"){var e=r.transitionIn;e.mode="show";e.complete=r.afterShow;if(!i.$container[r.transitionIn.style])r.transitionIn.style="fadeIn";i.$container[r.transitionIn.style](e).attr("data-cjlDB-status","open")}};var a=function(e){r.onClose(i.$container);if(typeof r.transitionOut=="function")r.transitionOut(i.$container.attr("data-cjlDB-status","close"),l);else if(typeof r.transitionOut=="object"){var t=r.transitionOut;t.mode="hide";t.complete=e;if(!i.$container[r.transitionOut.style])r.transitionOut.style="fadeOut";i.$container[r.transitionOut.style](t).attr("data-cjlDB-status","close")}};var f=function(e){var t=function(){a(e)};i.$closeBtn.on("click",t);if(r.overlayOnClickClose){i.$overlay.on("click",t)}};var l=function(){i.$overlay.remove();i.$container.remove();r.afterClose()};for(var c in t)r[c]=t[c];this.defaults=r;this.template=i;this.addGist=s;this.addCloseEvent=f;this.closeAnimation=a;this.positionContainer=o;this.remove=l;this.showContainer=u;return this};var r=function(e){var t=window.innerWidth/2-e.outerWidth()/2,n=window.innerHeight/2-e.outerHeight()/2;return{top:n,left:t}};var i=function(t){var r=new n(t);r.addGist();r.addCloseEvent(r.remove);if(t.overlay)e("body").append(r.template.$overlay);e("body").append(r.template.$container);r.positionContainer();r.showContainer();e.cjlDialog_count++};e.extend({cjlDialog:i,cjlDialog_count:0,centerLocation:r});e.fn.cjlModal=function(t){t.overlay=typeof t.overlay==="undefined"?true:t.overlay;var r=new n(t);r.template.$container=this;this.open=function(){if(t.overlay){r.addCloseEvent(function(){r.template.$overlay.remove();r.defaults.afterClose()});e("body").prepend(r.template.$overlay.attr("z-index",999))}r.positionContainer();r.showContainer();return this};this.close=function(){r.closeAnimation(r.defaults.afterClose);return this};return this}})(jQuery,this)